import os
import sys

chars=[' ','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z']

def extractPerms(file):
    with open(file,'r') as f:
        lines=f.readlines()
        finalPerms=[]
        for line in lines:
            line=line.strip('\n')
            valid=True
            if(len(line)==0):
                valid=False
            for i in line:
                if i in chars:
                    valid=False
                    break
            if valid:
                finalPerms.append(line)
        return finalPerms
            
if os.path.isfile('permissions.txt'):
    perms=extractPerms('permissions.txt')
    print(len(perms),'permissions found')
    with open('permissions_list.txt','w') as f:
        for perm in perms:
            f.write(perm+',')
        # f.writelines(perms)
    print('permissions_list.txt created')
            